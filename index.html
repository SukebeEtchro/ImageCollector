<!DOCTYPE html>
<html>
<head>
	<title>Image Collector</title>
</head>
<body>
<input type="text" id="urltext" style="width: 400px;" />
<input type="button" value="Go" onclick="loadURLs();" />
<div id="etchimg"></div>
<script type="text/javascript">
	function loadURLs() {
		if(!document.getElementById("urltext").value) {
			alert("Paste source in the textbox.");
			return 0;
		}
		console.time("timer");
		var images = [];
		var rawtext = document.getElementById("urltext").value;
		console.log(rawtext);
		var URLArray = rawtext.match(/(https?|ftp)(:\/\/[-_.!~*\'()a-zA-Z0-9;\/?:\@&=+\$,%#]+)/g);
		URLArray.forEach(function(v, i){
			var res = v.match(/.+(jpg|jpeg|gif|png|bmp)/);
			if(res !== null){
				images.push(res[0]);
			}
		});
		if(images.length === 0) {
			alert("Sorry, I found no images on your text.");
		} else {
			console.log(images);
			images.forEach(function(v, i){
				document.getElementById("etchimg").innerHTML += "<img src=" + v + " />";
			});
			console.timeEnd("timer");
		}
	}
</script>
</body>
</html>
